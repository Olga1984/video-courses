<form [formGroup]="courseForm" (ngSubmit)="onSubmit()" class="form-container" name.value=''>
  <div>
    <div class="form-group">
      <label for="name">Title
        <input formControlName="name" class="form-control" id="name" placeholder="Course Name" [class.is-invalid]="formControls.name.errors">
      </label>
    </div>
    <div class="form-group">
      <label for="description">Description
        <textarea formControlName="description" class="form-control" id="description" placeholder="Description" [class.is-invalid]="formControls.description.errors"></textarea>
      </label>
    </div>
    <div class="form-group">
      <label for="length">Duration
        <input formControlName="length" class="form-control" id="length" placeholder="course Duration" [class.is-invalid]="formControls.length.errors">
        <span *ngIf="course">{{course.length | duration}}</span>
      </label>
    </div>
    <div class="form-group">
      <label for="inputAuthors">Authors
        <input *ngIf="!course" formControlName="authors" class="form-control" id="inputAuthors" placeholder="authors" [class.is-invalid]="formControls.authors.errors" >
        <ul *ngIf="course" class="form-authors">
          <li class="form-control" *ngFor="let item of course.authors">
            <span>{{item.name}} {{item?.lastName}}</span>
            <app-search-bar-btn></app-search-bar-btn>
          </li>
        </ul>
      </label>
    </div>
    <app-authors-search></app-authors-search>
    <div class="form-group">
      <label for="inputDate">Date
        <input formControlName="date" class="form-control" id="inputDate" type="date" [value]="today | date:'yyyy-MM-dd'" (input)="today=parseDate($event.target.value)" [class.is-invalid]="formControls.date.errors">
      </label>
    </div>
    <button type="submit" [disabled]="!courseForm.valid" (click)="save()" class="btn btn-success">Save</button>
    <button (click)="cancel()" class="btn btn-warning">Cancel</button>
  </div>
</form>
